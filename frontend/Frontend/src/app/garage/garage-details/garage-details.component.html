<div class="container mt-4">
  <div class="card">
    <div class="card-header">
      <h4>Garage Details</h4>
    </div>
    <div class="card-body">
      <h5 class="card-title">{{ garage.name }}</h5>
      <p class="card-text">{{ garage.address }}</p>
      <p class="card-text">{{ garage.city }}, {{ garage.postalCode }}</p>
      <p class="card-text">Phone: {{ garage.phone }}</p>
      <p class="card-text">Email: {{ garage.email }}</p>
      <p class="card-text">Opening Hours: {{ garage.openingHours }}</p>
      <h6 class="mt-4">Services Offered:</h6>
      <ul class="list-unstyled">
        <li *ngFor="let service of garage.servicesOffered">{{ service }}</li>
      </ul>
    </div>
  </div>

  <div class="mt-4">
    <h4>Book Appointment</h4>
    <form (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="clientName">Client Name</label>
        <input type="text" id="clientName" name="clientName" class="form-control" [(ngModel)]="appointment.clientName" required />
      </div>
      <div class="form-group">
        <label for="clientPhone">Client Phone</label>
        <input type="text" id="clientPhone" name="clientPhone" class="form-control" [(ngModel)]="appointment.clientPhone" required />
      </div>
      <div class="form-group">
        <label for="appointmentDate">Appointment Date</label>
        <input type="date" id="appointmentDate" name="appointmentDate" class="form-control" [(ngModel)]="appointment.appointmentDate" required />
      </div>
      <div class="form-group">
        <label for="serviceRequired">Service Required</label>
        <input type="text" id="serviceRequired" name="serviceRequired" class="form-control" [(ngModel)]="appointment.serviceRequired" required />
      </div>
      <!-- Time Slots -->

      <label for="timeSlot" class="label">Select a Time Slot:</label>
      <div class="choice-wrapper ">
          <div *ngFor="let slot of timeSlots" class="choice slot">
              <input id="slot" class="slot" type="radio" name="slot" [value]="slot" [(ngModel)]="appointment.timeSlot"
                  required />
             <label for="slot" >{{ slot }}</label>
          </div>
      </div>
      <p *ngIf="failed" [class.failed]="failed">Error booking the appointment</p>
      <button type="submit" class="btn btn-primary">Submit</button>
      <p *ngIf="failed" class="text-danger mt-2">Failed to book appointment. Please try again later.</p>
    </form>
  </div>

  <div class="mt-4">
    <h4>Add Review</h4>
    <form>
      <div class="form-group">
        <label for="user">Your Name</label>
        <input type="text" id="user" name="user" class="form-control" [(ngModel)]="review.user" required />
      </div>
      <div class="form-group">
        <label for="comment">Your Review</label>
        <textarea id="comment" name="comment" class="form-control" rows="3" [(ngModel)]="review.comment" required></textarea>
      </div>
      <div class="form-group">
        <label for="rating">Rating</label>
        <select id="rating" name="rating" class="form-control" [(ngModel)]="review.rating" required>
          <option *ngFor="let star of stars" [value]="star">{{ star }}</option>
        </select>
      </div>
      <button type="button" class="btn btn-primary" (click)="addReview()">Submit Review</button>
    </form>
  </div>
</div>
